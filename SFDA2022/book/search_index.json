[["central_tendency.html", "3 Меры центральной тенденции 3.1 Виды статистики 3.2 Меры центральной тенденции 3.3 Сравнение мер центральной тенденции 3.4 Свойства среднего арифметического", " 3 Меры центральной тенденции Мы знаем, что наши переменные-признаки могут быть некоторым образом распределены — как в генеральной совокупности, так и в выборке. Как именно они распределены, описывается распределением случайной величины. Вот мы собрали некоторые данные и получили какое-то эмпирическое распределение наших переменных. Нам бы, конечно, хотелось понять, что там такое за распределение. И первым шагом к пониманию этого будет описание распределения. 3.1 Виды статистики Вообще статистика [как набор методов и инструментов] делится на два вида: Описательная статистика (descriptive statistics1) занимается обработкой статистических данных, их наглядным представлением, и собственно описанием через некоторые характеристики. Эти характеристики, количественно описывающие особенности имеющихся данных, называются описательными статистиками (descriptive statistics2). Задача описательной статистики — ёмко описать имеющиеся данные и составить на основе этих описаний общее представление о них, а также обнаружить особенности, которые могут повлиять на дальнейший анализ. Статистика вывода (inferential statistics) занимается поиском ответов на содержательные вопросы, которые мы задаем данным в ходе их анализа в рамках научных и практических исследований. Состоит из двух компонентов — тестирования статистических гипотез и статистических методов. Замечание о машинном обучении Вы наверняка не раз слышали словосочетание «машинное обучение». Это что-то, что время от времени становится то менее, то более хайпово. На самом деле, статистические методы лежат где-то между статистикой вывода и машинным обучением. Почему? Дело в том, что на статистические методы можно смотреть по-разному. Если нашей задачей является поиск ответов на исследовательские вопросы о закономерностях, о связи каких-либо факторов или влиянии переменных друг на друга, то мы будем смотреть на статистические модели с точки зрения статистики вывода. Это позволит нас находить ответы на интересующие нас вопросы — причем не важно, говорим мы о научных исследованиях или об исследованиях в индустрии. Если перед нами стоит задача хорошо предсказывать одни переменные на основании значений других — например, выдавать рекомендации на Яндекс.Музыке или в Яндекс.Лавке — то мы будем смотреть на те же статистические модели с точки зрения машинного обучения. То есть, модели абсолютно одни и те же, но то, какую модель мы назовем хорошей и как мы эту «хорошесть» определим, будет отличаться в зависимости от задачи — исследовательская или предиктивная — которая перед нами стоит. Мы начнем знакомиться со статистикой с описательной статистики, а именно с мер центральной тенденции. 3.2 Меры центральной тенденции Итак, мы хотим описать наши данные. Точнее, распределения переменных, которые у нас в данных есть. Хотим сделать это просто и ёмко. Насколько просто и ёмко? Ну, допустим максимально — одним числом. Кажется, значение переменной, которое лежит в центре распределения, неплохо для этого подойдет. Как мы будем искать, что там в центре распределения? Зависит от шкалы, в которой измерена конкретная переменная. Шкала Мера центральная тенденции Номинальная Мода Порядковая Медиана Интервальная Среднее арифметическое Абсолютная Среднее арифметическое, геометрическое и др. Однако есть неоторые нюансы. 3.2.1 Мода Мода (mode) — наиболее часто встречающееся значение данной переменной. Тут все достаточно просто и интуитивно понятно. Пусть у нас есть следующий ряд наблюдений: x ## [1] 1 3 4 6 4 2 4 3 2 4 1 Если мы составим таблицу частот, то получим следующее: table(x) ## x ## 1 2 3 4 6 ## 2 2 2 4 1 Очевидно, что \\(4\\) встречается чаще других значений — это и есть мода. Понятно, что если на нашей шкале нет чисел, а есть текстовые лейблы, это ничего не меняет: y ## [1] &quot;Кёнигсберг&quot; &quot;Барнаул (Алтайский край)&quot; ## [3] &quot;Санкт-Петербург&quot; &quot;Казань&quot; ## [5] &quot;Москва&quot; &quot;Санкт-Петербург&quot; ## [7] &quot;Кёнигсберг&quot; &quot;Москва&quot; ## [9] &quot;Москва&quot; &quot;Санкт-Петербург&quot; ## [11] &quot;Казань&quot; &quot;Санкт-Петербург&quot; ## [13] &quot;Москва&quot; &quot;Москва&quot; ## [15] &quot;Казань&quot; &quot;Казань&quot; ## [17] &quot;Казань&quot; &quot;Санкт-Петербург&quot; ## [19] &quot;Кёнигсберг&quot; &quot;Санкт-Петербург&quot; ## [21] &quot;Санкт-Петербург&quot; &quot;Санкт-Петербург&quot; ## [23] &quot;Москва&quot; &quot;Москва&quot; ## [25] &quot;Москва&quot; &quot;Санкт-Петербург&quot; ## [27] &quot;Санкт-Петербург&quot; &quot;Санкт-Петербург&quot; ## [29] &quot;Санкт-Петербург&quot; table(y) ## y ## Барнаул (Алтайский край) Казань Кёнигсберг ## 1 5 3 ## Москва Санкт-Петербург ## 8 12 Мода, получается, Санкт-Петербург. Так мы поступаем с эмпирическим распределением. Если мы имеем дело с генеральной совокупностью, то можем формально определить моду через фунцию вероятности (probability mass function, PMF). Это будет её максимальное значение: \\[ \\mathrm{mode}(X) = \\max(\\mathrm{PMF}(X)) \\] Мода — 7. 3.2.2 Медиана Медиана (median) — это значение, которые располагается на середине отсортированного ряда значений переменной. То есть, она делит все наблюдения переменной ровно пополам и половина наблюдений оказывается по одну сторону от медианы, а половина — по другую. Если у нас нечетное число наблюдений, то всё ясно: v1 ## [1] 29 27 3 9 14 4 30 8 10 5 26 sort(v1) ## [1] 3 4 5 8 9 10 14 26 27 29 30 median(v1) ## [1] 10 А что делать, если число наблюдений чётное? Ведь тогда середина ряда будет между двух чисел. Ну, возьмем их среднее арифметическое — это и будет медиана. v2 ## [1] 24 26 28 14 17 2 9 23 21 27 sort(v2) ## [1] 2 9 14 17 21 23 24 26 27 28 median(v2) ## [1] 22 Формально это можно написать так: \\[ \\mathrm{median} = \\begin{cases} X(\\frac{n+1}{2}), &amp; \\text{ if } n \\text{ is odd},\\\\ \\dfrac{X(\\frac{n}{2}) + X(\\frac{n}{2}+1)}{2}, &amp; \\text{ otherwise}, \\end{cases} \\] где \\(X\\) — ряд наблюдений данной переменной, \\(n\\) — число наблюдений, \\(X(a)\\) — наблюдение с индексом \\(a\\) в сортированном векторе \\(X\\). 3.2.3 Среднее арифметическое С этим существом все знакомы еще со школы. Арифметическое среднее (arithmetic mean, mean, average) считается так: \\[ M_{X} = \\bar x = \\dfrac{\\sum_{i=1}^{n}x_i}{n}, \\] где \\(\\bar X\\) — среднее арифметическое, \\(x_i\\) — наблюдение в векторе \\(X\\), \\(n\\) — количество наблюдений. Ну, то есть всё сложить и поделить на количество того, чего сложили. Изи. Вот, скажем, средние по v1 и v2: mean(v1) ## [1] 15 mean(v2) ## [1] 19.1 3.2.4 Другие средние Среднее арифметическое не одиноко — есть и другие. Встретяться они вам примерно нигде — то есть о-о-о-очень редко и, скорее всего, в каком-то изощрённом виде. Но упомянуть их, пожалуй, стоит. 3.2.4.1 Геометрическое среднее Редко встречается в научных работах, но заради общего представления пусть будет. \\[ G_{X} = \\sqrt[n]{\\prod_{i=1}^n x_i} = \\Big(\\prod_{i=1}^n x_i\\Big)^{\\tfrac{1}{n}} \\] 3.2.4.2 Гармоническое Суперэкзотичный покемон. \\[ H_X = \\frac{n \\prod_{i=1}^n x_i}{\\sum_{i=1}^n (\\tfrac{1}{x} \\prod_{j=1}^n x_j)} = \\frac{n}{\\sum_{i=1}^n \\tfrac{1}{x_i}} \\] 3.2.4.3 Квадратичное А вот это уже более полезная история. Мы с ним столкнёмся далее, правда под разными масками. Квадратичное среднее (quadratic mean, root mean square, RMS) — это квадратный корень из среднего квадрата наблюдений. Ничего не понятно, поэтому по порядку. есть наблюдение \\(x_i\\) значит есть и его квадрат \\(x_i^2\\) мы умеем считать обычно среднее арифметическое, но ведь \\(x_i^2\\) — это тоже наблюдение, просто в квадрате, так? значит можем посчитать среднее арифметическое квадратов наблюдений — средний квадрат \\[ \\frac{\\sum_{i=1}^n x_i^2}{n} \\] норм, а теперь извлечём из этого дела корень — получим то, что там надо \\[ X_{\\mathrm{RMS}} = \\sqrt{\\frac{\\sum_{i=1}^n x_i^2}{n}} \\] Per se мы его вряд ли ещё когда-то увидим, но пару раз оно внезапно всплывет. 3.2.4.4 Взвешенное Полезная вещь. Часто бывает такая ситуация, что нас нужно посчитать среднее по каким-либо имеющимся параметрам, но одни параметры для нас важнее, чем другие. Например, мы хотим вычислить суммарный балл обучающегося за курс на основе ряда работ, выполненных в течение курса, однако мы понимаем, что тест из десяти вопросов с множественном выбором явно менее показателен, чем, например, аналитическое эссе или экзаменационная оценка. Что делать? Взвесить параметры! Что значит взвесить? Умножить на некоторое число. На самом деле, любое. Пусть мы посчитали, что написать эссе в три абстрактных раза тяжелее, чем написать тест, а сдать экзамен в два раза тяжелее, чем написать эссе. Тогда мы можем присвоить баллу за тест вес \\(1\\), баллу за аналитическое эссе вес \\(3\\), а экзамену — вес \\(6\\). Тогда итоговая оценка за курс будет рассчитываться следующим образом: \\[ \\text{final score } = 1 \\cdot \\text{test} + 3 \\cdot \\text{essay} + 6 \\cdot \\text{exam} \\] Суперкласс. Однако! Весьма вероятно, что в учебном заведении принята единая система оценки для всех видов работ (ну, скажем, некая абстрактная десятибалльная система в сферическом вакууме). Получается, если и за тест, и за эссе, и за экзамен у студента по 10 баллов, то суммарный балл 100, что, кажется, больше, чем 10. Чтобы вернуться к изначальным границам баллов, нужно моделить суммарный балл на сумму весов параметров: \\[ \\text{final score } = \\frac{1 \\cdot \\text{test} + 3 \\cdot \\text{essay} + 6 \\cdot \\text{exam}}{1 + 3 + 6} \\] Кайф! Собственно, это и есть взвешенное среднее. Коэффициенты, на которые мы умножаем значение парамернов, называются весами параметров. И в общем виде формула принимает следующий вид. \\[ \\bar x = \\frac{\\sum_{i=1}^n w_i x_i}{\\sum_{i=1}^n w_i} = \\sum_{i=1}^n w_i&#39; x_i, \\] где \\(x_i\\) — значения конкретных параметров, \\(w_i\\) — веса конкретных параметров, \\(w_i&#39;\\) — нормированные веса параметров. Вторая часть формулы показывается нам, что можно облегчить себе вычислительную жизнь, если заранее нормировать веса, то есть разделить каждый коэффициент на сумму коэффициентов: \\[ w_i&#39; = \\frac{w_i}{\\sum_{i=1}^n w_i} \\] Тогда сумма коэффициентов будет равна единице. Так чаще всего и поступают, так как тогда коэффициент будет представлять долю, которую весит данный параметр в суммарной оценке. Удобно, практично, красиво. Взвещенное среднее часто применяется именно во всякого рода ассессментах, и не только образовательных. Например, вы HR-аналитик и оцениваете персонал. Вы аналитически вычисляете веса коэффициентов (допустим, с помощью линейной регрессии), а далее на их основе высчитаете интегральный балл, по которому будете оценивать сотрудников. Это как один из индустриальных примеров. 3.3 Сравнение мер центральной тенденции Сравнивать будем моду, медиану и среднее [арифметическое]. Итак, все три статистики — мода, медиана и среднее — описывают центральную тенденцию — некоторое значение изучаемой нами переменной, вокруг которого собираются другие значения. Но если их три и все они используются, значит между ними должны быть какие-то различия. Посмотрим, какие. Во-первых, очевидно, что моду невозможно посчитать для непрерывной переменной. Нет, не очевидно Так как вероятность того, что непрерывная случайная величина принимает своё конкретное значение, равна нулю, каждое наблюдение в нашей выборке будет уникально — встретится ровно один раз. Вспомните [посмотрите] пример из предыдущей главы, где мы набирали числа из отрезка. Получается, что мода теряет свой смысл. Во-вторых, медиану нельзя посчитать на номинальной шкале. Кстати, почему? Потому что на номинальной шкале нет отношения порядка между элементами. Помните, на ней нельзя сравнивать на больше-меньше. Поэтому невозможно отсортировать наблюдения, а значит, и найти медиану. В-третьих, среднее тоже нельзя посчитать на номинальной шкале. Можно, но осторожно Вообще, конечно, да — нельзя, потому что на номинальной шкале не определена операция сложения, входящая в вычисление среднего. Однако если на номинальной шкале есть только две категории, которые закодированы 0 и 1, то посчитать среднее можно. Но что оно будет значить? Исходный математический смысл среднего явно утерян. Посмотрим на это по-другому: посчитать сумму единиц это всё равно, что посчитать количество единиц. То есть, если мы сложим все нули и единицы, то получим количество единиц среди всех наших наблюдений. А разделив количество единиц на количество наблюдений, мы получим долю единиц — то есть долю наблюдений с лейблом 1. Вот так вот. В-четвертых, для дискретной переменной значение среднего арифметического будет не особо осмысленно. Ну, скажем, странно сказать, что в аудитории в среднем стоят 15.86 столов или в российских семьях в среднем 1.5 ребенка. Конечно, в ряде случаев можно это как-то более-менее водержательно интерпретировать, но это требует усилий, а мы ленивые, поэтому лучше использовать медиану. Итого, делаем следующие выводы: для номинальной шкалы пригодна только мода для дискретных переменных подходят мода и медиана мода иногда лучше, так как точно всегда будет целым числом для непрерывных переменных подходят медиана и среднее Теперь нам надо разобраться, как будут себя вести меры центральной тенденции в зависимости от формы распределения. 3.4 Свойства среднего арифметического \\[ M_{X+C} = M_X + C \\] \\[ M_{X \\times C} = M_X \\times C \\] \\[ \\sum_{i=1}^n(X_i - M_X) = 0 \\] Mass (uncountable) noun↩︎ Count noun, plural in this case↩︎ "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
